import{d as Te,A as T,c as O,M as Ce,a as x,m as Se,u as n,o as b,s as I,D as V,H as Y,N as je,O as Ae,q as Ue,P as Ee,Q as Re,e as l,h as Pe,w as h,b as d,i as _,y as Me,g as ne,F as Ne,B as De,t as F,k as ae}from"./app-DIOqzny8.js";import{_ as re}from"./InputError.vue_vue_type_script_setup_true_lang-Q_44qxQD.js";import{c as L,_ as Z}from"./AppLogoIcon.vue_vue_type_script_setup_true_lang-Bm5nJH6X.js";import{d as Ve,_ as Fe,a as Be,b as Ie,c as Le}from"./DialogTitle.vue_vue_type_script_setup_true_lang-C0i6CK7a.js";import{_ as Oe,a as qe,b as He}from"./DialogTrigger.vue_vue_type_script_setup_true_lang-B2UbChO0.js";import{_ as le}from"./Input.vue_vue_type_script_setup_true_lang-CPIMcvLr.js";import{_ as oe}from"./Label.vue_vue_type_script_setup_true_lang-pkL8q4U2.js";import{_ as We,t as de}from"./AppLayout.vue_vue_type_script_setup_true_lang-Dnv15T38.js";import{q as ve}from"./index-4Ns3tNZl.js";import{c as Q}from"./createLucideIcon-G_z16X0p.js";import"./VisuallyHidden-CO3EYToq.js";import"./index-BnvIPyTu.js";import"./RovingFocusGroup-CQSusecv.js";import"./useArrowNavigation-C6Y-ieo6.js";/**
 * @license lucide-vue-next v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ze=Q("arrow-left-right",[["path",{d:"M8 3 4 7l4 4",key:"9rb6wj"}],["path",{d:"M4 7h16",key:"6tx8e3"}],["path",{d:"m16 21 4-4-4-4",key:"siv7j2"}],["path",{d:"M20 17H4",key:"h6l3hr"}]]);/**
 * @license lucide-vue-next v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ue=Q("circle-arrow-down",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 8v8",key:"napkw2"}],["path",{d:"m8 12 4 4 4-4",key:"k98ssh"}]]);/**
 * @license lucide-vue-next v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ce=Q("circle-arrow-up",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m16 12-4-4-4 4",key:"177agl"}],["path",{d:"M12 16V8",key:"1sbj14"}]]);/**
 * @license lucide-vue-next v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xe=Q("wallet",[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]]),Qe=(i,e)=>i==null?e:e==null?i:Math.max(i,e),G=new WeakMap,A={onUpdate(i,e,t){if(G.set(t,void 0),!t.computedTrend)return;const s=e.integer.concat(e.fraction).filter(o=>o.type==="integer"||o.type==="fraction"),a=i.integer.concat(i.fraction).filter(o=>o.type==="integer"||o.type==="fraction"),c=s.find(o=>!a.find(m=>m.pos===o.pos&&m.value===o.value)),u=a.find(o=>!s.find(m=>o.pos===m.pos&&o.value===m.value));G.set(t,Qe(c?.pos,u?.pos))},getDelta(i,e,t){const s=i-e,a=G.get(t.flow);if(!s&&a!=null&&a>=t.pos)return t.length*t.flow.computedTrend}},R=(i,e,t)=>{const s=document.createElement(i),[a,c]=Array.isArray(e)?[void 0,e]:[e,t];return a&&Object.assign(s,a),c?.forEach(u=>s.appendChild(u)),s},Ye=(i,e)=>{var t;return e==="left"?i.offsetLeft:(((t=i.offsetParent instanceof HTMLElement?i.offsetParent:null)==null?void 0:t.offsetWidth)??0)-i.offsetWidth-i.offsetLeft},Ze=i=>i.offsetWidth>0&&i.offsetHeight>0,Ge=(i,e)=>{!customElements.get(i)&&customElements.define(i,e)};function Je(i,e,{reverse:t=!1}={}){const s=i.length;for(let a=t?s-1:0;t?a>=0:a<s;t?a--:a++)e(i[a],a)}function Ke(i,e,t,s){const a=e.formatToParts(i);t&&a.unshift({type:"prefix",value:t}),s&&a.push({type:"suffix",value:s});const c=[],u=[],o=[],m=[],f={},g=y=>`${y}:${f[y]=(f[y]??-1)+1}`;let P="",S=!1,j=!1;for(const y of a){P+=y.value;const p=y.type==="minusSign"||y.type==="plusSign"?"sign":y.type;p==="integer"?(S=!0,u.push(...y.value.split("").map(M=>({type:p,value:parseInt(M)})))):p==="group"?u.push({type:p,value:y.value}):p==="decimal"?(j=!0,o.push({type:p,value:y.value,key:g(p)})):p==="fraction"?o.push(...y.value.split("").map(M=>({type:p,value:parseInt(M),key:g(p),pos:-1-f[p]}))):(S||j?m:c).push({type:p,value:y.value,key:g(p)})}const q=[];for(let y=u.length-1;y>=0;y--){const p=u[y];q.unshift(p.type==="integer"?{...p,key:g(p.type),pos:f[p.type]}:{...p,key:g(p.type)})}return{pre:c,integer:q,fraction:o,post:m,valueAsString:P,value:typeof i=="string"?parseFloat(i):i}}const et=String.raw,tt=(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0})(),st=typeof CSS<"u"&&CSS.supports&&CSS.supports("line-height","mod(1,1)"),pe=typeof matchMedia<"u"?matchMedia("(prefers-reduced-motion: reduce)"):null,z="--_number-flow-d-opacity",te="--_number-flow-d-width",X="--_number-flow-dx",se="--_number-flow-d",it=(()=>{try{return CSS.registerProperty({name:z,syntax:"<number>",inherits:!1,initialValue:"0"}),CSS.registerProperty({name:X,syntax:"<length>",inherits:!0,initialValue:"0px"}),CSS.registerProperty({name:te,syntax:"<number>",inherits:!1,initialValue:"0"}),CSS.registerProperty({name:se,syntax:"<number>",inherits:!0,initialValue:"0"}),!0}catch{return!1}})(),nt="var(--number-flow-char-height, 1em)",E="var(--number-flow-mask-height, 0.25em)",he=`calc(${E} / 2)`,K="var(--number-flow-mask-width, 0.5em)",N=`calc(${K} / var(--scale-x))`,H="#000 0, transparent 71%",me=et`:host{display:inline-block;direction:ltr;white-space:nowrap;isolation:isolate;line-height:${nt} !important}.number,.number__inner{display:inline-block;transform-origin:left top}:host([data-will-change]) :is(.number,.number__inner,.section,.digit,.digit__num,.symbol){will-change:transform}.number{--scale-x:calc(1 + var(${te}) / var(--width));transform:translateX(var(${X})) scaleX(var(--scale-x));margin:0 calc(-1 * ${K});position:relative;-webkit-mask-image:linear-gradient(to right,transparent 0,#000 ${N},#000 calc(100% - ${N}),transparent ),linear-gradient(to bottom,transparent 0,#000 ${E},#000 calc(100% - ${E}),transparent 100% ),radial-gradient(at bottom right,${H}),radial-gradient(at bottom left,${H}),radial-gradient(at top left,${H}),radial-gradient(at top right,${H});-webkit-mask-size:100% calc(100% - ${E} * 2),calc(100% - ${N} * 2) 100%,${N} ${E},${N} ${E},${N} ${E},${N} ${E};-webkit-mask-position:center,center,top left,top right,bottom right,bottom left;-webkit-mask-repeat:no-repeat}.number__inner{padding:${he} ${K};transform:scaleX(calc(1 / var(--scale-x))) translateX(calc(-1 * var(${X})))}:host > :not(.number){z-index:5}.section,.symbol{display:inline-block;position:relative;isolation:isolate}.section::after{content:'\200b';display:inline-block}.section--justify-left{transform-origin:center left}.section--justify-right{transform-origin:center right}.section > [inert],.symbol > [inert]{margin:0 !important;position:absolute !important;z-index:-1}.digit{display:inline-block;position:relative;--c:var(--current) + var(${se})}.digit__num,.number .section::after{padding:${he} 0}.digit__num{display:inline-block;--offset-raw:mod(var(--length) + var(--n) - mod(var(--c),var(--length)),var(--length));--offset:calc( var(--offset-raw) - var(--length) * round(down,var(--offset-raw) / (var(--length) / 2),1) );--y:clamp(-100%,var(--offset) * 100%,100%);transform:translateY(var(--y))}.digit__num[inert]{position:absolute;top:0;left:50%;transform:translateX(-50%) translateY(var(--y))}.digit:not(.is-spinning) .digit__num[inert]{display:none}.symbol__value{display:inline-block;mix-blend-mode:plus-lighter;white-space:pre}.section--justify-left .symbol > [inert]{left:0}.section--justify-right .symbol > [inert]{right:0}.animate-presence{opacity:calc(1 + var(${z}))}`,at=HTMLElement,rt=st&&tt&&it;let W;class C extends at{constructor(){super(),this.created=!1,this.batched=!1;const{animated:e,...t}=this.constructor.defaultProps;this._animated=this.computedAnimated=e,Object.assign(this,t)}get animated(){return this._animated}set animated(e){var t;this.animated!==e&&(this._animated=e,(t=this.shadowRoot)==null||t.getAnimations().forEach(s=>s.finish()))}set data(e){var t;if(e==null)return;const{pre:s,integer:a,fraction:c,post:u,value:o}=e;if(this.created){const m=this._data;this._data=e,this.computedTrend=typeof this.trend=="function"?this.trend(m.value,o):this.trend,this.computedAnimated=rt&&this._animated&&(!this.respectMotionPreference||!(pe!=null&&pe.matches))&&Ze(this),(t=this.plugins)==null||t.forEach(f=>{var g;return(g=f.onUpdate)==null?void 0:g.call(f,e,m,this)}),this.batched||this.willUpdate(),this._pre.update(s),this._num.update({integer:a,fraction:c}),this._post.update(u),this.batched||this.didUpdate()}else{this._data=e,this.attachShadow({mode:"open"});try{this._internals??(this._internals=this.attachInternals()),this._internals.role="img"}catch{}if(typeof CSSStyleSheet<"u"&&this.shadowRoot.adoptedStyleSheets)W||(W=new CSSStyleSheet,W.replaceSync(me)),this.shadowRoot.adoptedStyleSheets=[W];else{const m=document.createElement("style");m.textContent=me,this.shadowRoot.appendChild(m)}this._pre=new ge(this,s,{justify:"right",part:"left"}),this.shadowRoot.appendChild(this._pre.el),this._num=new lt(this,a,c),this.shadowRoot.appendChild(this._num.el),this._post=new ge(this,u,{justify:"left",part:"right"}),this.shadowRoot.appendChild(this._post.el),this.created=!0}try{this._internals.ariaLabel=e.valueAsString}catch{}}willUpdate(){this._pre.willUpdate(),this._num.willUpdate(),this._post.willUpdate()}didUpdate(){if(!this.computedAnimated)return;this._abortAnimationsFinish?this._abortAnimationsFinish.abort():this.dispatchEvent(new Event("animationsstart")),this._pre.didUpdate(),this._num.didUpdate(),this._post.didUpdate();const e=new AbortController;Promise.all(this.shadowRoot.getAnimations().map(t=>t.finished)).then(()=>{e.signal.aborted||(this.dispatchEvent(new Event("animationsfinish")),this._abortAnimationsFinish=void 0)}),this._abortAnimationsFinish=e}}C.defaultProps={transformTiming:{duration:900,easing:"linear(0,.005,.019,.039,.066,.096,.129,.165,.202,.24,.278,.316,.354,.39,.426,.461,.494,.526,.557,.586,.614,.64,.665,.689,.711,.731,.751,.769,.786,.802,.817,.831,.844,.856,.867,.877,.887,.896,.904,.912,.919,.925,.931,.937,.942,.947,.951,.955,.959,.962,.965,.968,.971,.973,.976,.978,.98,.981,.983,.984,.986,.987,.988,.989,.99,.991,.992,.992,.993,.994,.994,.995,.995,.996,.996,.9963,.9967,.9969,.9972,.9975,.9977,.9979,.9981,.9982,.9984,.9985,.9987,.9988,.9989,1)"},spinTiming:void 0,opacityTiming:{duration:450,easing:"ease-out"},animated:!0,trend:(i,e)=>Math.sign(e-i),respectMotionPreference:!0,plugins:void 0,digits:void 0};class lt{constructor(e,t,s,{className:a,...c}={}){this.flow=e,this._integer=new fe(e,t,{justify:"right",part:"integer"}),this._fraction=new fe(e,s,{justify:"left",part:"fraction"}),this._inner=R("span",{className:"number__inner"},[this._integer.el,this._fraction.el]),this.el=R("span",{...c,part:"number",className:`number ${a??""}`},[this._inner])}willUpdate(){this._prevWidth=this.el.offsetWidth,this._prevLeft=this.el.getBoundingClientRect().left,this._integer.willUpdate(),this._fraction.willUpdate()}update({integer:e,fraction:t}){this._integer.update(e),this._fraction.update(t)}didUpdate(){const e=this.el.getBoundingClientRect();this._integer.didUpdate(),this._fraction.didUpdate();const t=this._prevLeft-e.left,s=this.el.offsetWidth,a=this._prevWidth-s;this.el.style.setProperty("--width",String(s)),this.el.animate({[X]:[`${t}px`,"0px"],[te]:[a,0]},{...this.flow.transformTiming,composite:"accumulate"})}}class _e{constructor(e,t,{justify:s,className:a,...c},u){this.flow=e,this.children=new Map,this.onCharRemove=m=>()=>{this.children.delete(m)},this.justify=s;const o=t.map(m=>this.addChar(m).el);this.el=R("span",{...c,className:`section section--justify-${s} ${a??""}`},u?u(o):o)}addChar(e,{startDigitsAtZero:t=!1,...s}={}){const a=e.type==="integer"||e.type==="fraction"?new be(this,e.type,t?0:e.value,e.pos,{...s,onRemove:this.onCharRemove(e.key)}):new ot(this,e.type,e.value,{...s,onRemove:this.onCharRemove(e.key)});return this.children.set(e.key,a),a}unpop(e){e.el.removeAttribute("inert"),e.el.style.top="",e.el.style[this.justify]=""}pop(e){e.forEach(t=>{t.el.style.top=`${t.el.offsetTop}px`,t.el.style[this.justify]=`${Ye(t.el,this.justify)}px`}),e.forEach(t=>{t.el.setAttribute("inert",""),t.present=!1})}addNewAndUpdateExisting(e){const t=new Map,s=new Map,a=this.justify==="left",c=a?"prepend":"append";if(Je(e,u=>{let o;this.children.has(u.key)?(o=this.children.get(u.key),s.set(u,o),this.unpop(o),o.present=!0):(o=this.addChar(u,{startDigitsAtZero:!0,animateIn:!0}),t.set(u,o)),this.el[c](o.el)},{reverse:a}),this.flow.computedAnimated){const u=this.el.getBoundingClientRect();t.forEach(o=>{o.willUpdate(u)})}t.forEach((u,o)=>{u.update(o.value)}),s.forEach((u,o)=>{u.update(o.value)})}willUpdate(){const e=this.el.getBoundingClientRect();this._prevOffset=e[this.justify],this.children.forEach(t=>t.willUpdate(e))}didUpdate(){const e=this.el.getBoundingClientRect();this.children.forEach(a=>a.didUpdate(e));const t=e[this.justify],s=this._prevOffset-t;s&&this.children.size&&this.el.animate({transform:[`translateX(${s}px)`,"none"]},{...this.flow.transformTiming,composite:"accumulate"})}}class fe extends _e{update(e){const t=new Map;this.children.forEach((s,a)=>{e.find(c=>c.key===a)||t.set(a,s),this.unpop(s)}),this.addNewAndUpdateExisting(e),t.forEach(s=>{s instanceof be&&s.update(0)}),this.pop(t)}}class ge extends _e{update(e){const t=new Map;this.children.forEach((s,a)=>{e.find(c=>c.key===a)||t.set(a,s)}),this.pop(t),this.addNewAndUpdateExisting(e)}}let ee=class{constructor(e,t,{onRemove:s,animateIn:a=!1}={}){this.flow=e,this.el=t,this._present=!0,this._remove=()=>{var c;this.el.remove(),(c=this._onRemove)==null||c.call(this)},this.el.classList.add("animate-presence"),this.flow.computedAnimated&&a&&this.el.animate({[z]:[-.9999,0]},{...this.flow.opacityTiming,composite:"accumulate"}),this._onRemove=s}get present(){return this._present}set present(e){if(this._present!==e){if(this._present=e,e?this.el.removeAttribute("inert"):this.el.setAttribute("inert",""),!this.flow.computedAnimated){e||this._remove();return}this.el.style.setProperty("--_number-flow-d-opacity",e?"0":"-.999"),this.el.animate({[z]:e?[-.9999,0]:[.999,0]},{...this.flow.opacityTiming,composite:"accumulate"}),e?this.flow.removeEventListener("animationsfinish",this._remove):this.flow.addEventListener("animationsfinish",this._remove,{once:!0})}}};class ye extends ee{constructor(e,t,s,a){super(e.flow,s,a),this.section=e,this.value=t,this.el=s}}class be extends ye{constructor(e,t,s,a,c){var u,o;const m=(((o=(u=e.flow.digits)==null?void 0:u[a])==null?void 0:o.max)??9)+1,f=Array.from({length:m}).map((P,S)=>{const j=R("span",{className:"digit__num"},[document.createTextNode(String(S))]);return S!==s&&j.setAttribute("inert",""),j.style.setProperty("--n",String(S)),j}),g=R("span",{part:`digit ${t}-digit`,className:"digit"},f);g.style.setProperty("--current",String(s)),g.style.setProperty("--length",String(m)),super(e,s,g,c),this.pos=a,this._onAnimationsFinish=()=>{this.el.classList.remove("is-spinning")},this._numbers=f,this.length=m}willUpdate(e){const t=this.el.getBoundingClientRect();this._prevValue=this.value;const s=t[this.section.justify]-e[this.section.justify],a=t.width/2;this._prevCenter=this.section.justify==="left"?s+a:s-a}update(e){this.el.style.setProperty("--current",String(e)),this._numbers.forEach((t,s)=>s===e?t.removeAttribute("inert"):t.setAttribute("inert","")),this.value=e}didUpdate(e){const t=this.el.getBoundingClientRect(),s=t[this.section.justify]-e[this.section.justify],a=t.width/2,c=this.section.justify==="left"?s+a:s-a,u=this._prevCenter-c;u&&this.el.animate({transform:[`translateX(${u}px)`,"none"]},{...this.flow.transformTiming,composite:"accumulate"});const o=this.getDelta();o&&(this.el.classList.add("is-spinning"),this.el.animate({[se]:[-o,0]},{...this.flow.spinTiming??this.flow.transformTiming,composite:"accumulate"}),this.flow.addEventListener("animationsfinish",this._onAnimationsFinish,{once:!0}))}getDelta(){var e;if(this.flow.plugins)for(const a of this.flow.plugins){const c=(e=a.getDelta)==null?void 0:e.call(a,this.value,this._prevValue,this);if(c!=null)return c}const t=this.value-this._prevValue,s=this.flow.computedTrend||Math.sign(t);return s<0&&this.value>this._prevValue?this.value-this.length-this._prevValue:s>0&&this.value<this._prevValue?this.length-this._prevValue+this.value:t}}class ot extends ye{constructor(e,t,s,a){const c=R("span",{className:"symbol__value",textContent:s});super(e,s,R("span",{part:`symbol ${t}`,className:"symbol"},[c]),a),this.type=t,this._children=new Map,this._onChildRemove=u=>()=>{this._children.delete(u)},this._children.set(s,new ee(this.flow,c,{onRemove:this._onChildRemove(s)}))}willUpdate(e){if(this.type==="decimal")return;const t=this.el.getBoundingClientRect();this._prevOffset=t[this.section.justify]-e[this.section.justify]}update(e){if(this.value!==e){const t=this._children.get(this.value);t&&(t.present=!1);const s=this._children.get(e);if(s)s.present=!0;else{const a=R("span",{className:"symbol__value",textContent:e});this.el.appendChild(a),this._children.set(e,new ee(this.flow,a,{animateIn:!0,onRemove:this._onChildRemove(e)}))}}this.value=e}didUpdate(e){if(this.type==="decimal")return;const t=this.el.getBoundingClientRect()[this.section.justify]-e[this.section.justify],s=this._prevOffset-t;s&&this.el.animate({transform:[`translateX(${s}px)`,"none"]},{...this.flow.transformTiming,composite:"accumulate"})}}const dt=Symbol(),ut=["batched","trend","plugins","animated","transformTiming","spinTiming","opacityTiming","respectMotionPreference","data-will-change","digits","innerHTML","data"],U=Te({inheritAttrs:!1,__name:"index",props:{transformTiming:{default:()=>C.defaultProps.transformTiming},spinTiming:{default:()=>C.defaultProps.spinTiming},opacityTiming:{default:()=>C.defaultProps.opacityTiming},animated:{type:Boolean,default:()=>C.defaultProps.animated},respectMotionPreference:{type:Boolean,default:()=>C.defaultProps.respectMotionPreference},trend:{type:[Number,Function],default:()=>C.defaultProps.trend},plugins:{default:()=>C.defaultProps.plugins},digits:{default:()=>C.defaultProps.digits},locales:{},format:{},value:{},prefix:{},suffix:{},willChange:{type:Boolean,default:!1}},emits:["animationsstart","animationsfinish"],setup(i,{expose:e,emit:t}){const s=T();e({el:s});const a=t,c=O(()=>new Intl.NumberFormat(i.locales,i.format)),u=O(()=>Ke(i.value,c.value,i.prefix,i.suffix)),o=void 0,m=Ce(dt,void 0);return m?.(s,u),(f,g)=>(b(),x("number-flow-vue",Se({ref_key:"el",ref:s},f.$attrs,{batched:!!n(m),trend:f.trend,plugins:f.plugins,animated:f.animated,transformTiming:f.transformTiming,spinTiming:f.spinTiming,opacityTiming:f.opacityTiming,respectMotionPreference:f.respectMotionPreference,"data-will-change":f.willChange?"":void 0,digits:f.digits,innerHTML:n(o),"data-allow-mismatch":"",onAnimationsstart:g[0]||(g[0]=P=>a("animationsstart")),onAnimationsfinish:g[1]||(g[1]=P=>a("animationsfinish")),data:u.value}),null,16,ut))}});Ge("number-flow-vue",C);const ct={__name:"Table",props:{class:{type:null,required:!1,default:""}},setup(i){const e=i;return(t,s)=>(b(),x("table",{"data-slot":"table",class:V(n(L)("w-full caption-bottom text-sm",e.class))},[I(t.$slots,"default")],2))}},pt={__name:"TableBody",props:{class:{type:null,required:!1,default:""}},setup(i){const e=i;return(t,s)=>(b(),x("tbody",{"data-slot":"table-body",class:V(n(L)("[&_tr:last-child]:border-0",e.class))},[I(t.$slots,"default")],2))}},D={__name:"TableCell",props:{class:{type:null,required:!1,default:""}},setup(i){const e=i;return(t,s)=>(b(),x("td",{"data-slot":"table-cell",class:V(n(L)("p-2 align-middle whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",e.class))},[I(t.$slots,"default")],2))}},J={__name:"TableRow",props:{class:{type:null,required:!1,default:""}},setup(i){const e=i;return(t,s)=>(b(),x("tr",{"data-slot":"table-row",class:V(n(L)("hover:bg-muted/50 data-[state=selected]:bg-muted border-b transition-colors",e.class))},[I(t.$slots,"default")],2))}},B={__name:"TableHead",props:{class:{type:null,required:!1,default:""}},setup(i){const e=i;return(t,s)=>(b(),x("th",{"data-slot":"table-head",class:V(n(L)("text-muted-foreground h-10 px-2 text-left align-middle font-medium whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",e.class))},[I(t.$slots,"default")],2))}},ht={__name:"TableHeader",props:{class:{type:null,required:!1,default:""}},setup(i){const e=i;return(t,s)=>(b(),x("thead",{"data-slot":"table-header",class:V(n(L)("[&_tr]:border-b",e.class))},[I(t.$slots,"default")],2))}},w=i=>({url:w.url(i),method:"get"});w.definition={methods:["get","head"],url:"/transactions"};w.url=i=>w.definition.url+ve(i);w.get=i=>({url:w.url(i),method:"get"});w.head=i=>({url:w.url(i),method:"head"});const ie=i=>({action:w.url(i),method:"get"});ie.get=i=>({action:w.url(i),method:"get"});ie.head=i=>({action:w.url({[i?.mergeQuery?"mergeQuery":"query"]:{_method:"HEAD",...i?.query??i?.mergeQuery??{}}}),method:"get"});w.form=ie;const k=i=>({url:k.url(i),method:"post"});k.definition={methods:["post"],url:"/transactions"};k.url=i=>k.definition.url+ve(i);k.post=i=>({url:k.url(i),method:"post"});const we=i=>({action:k.url(i),method:"post"});we.post=i=>({action:k.url(i),method:"post"});k.form=we;Object.assign(w,w),Object.assign(k,k);const mt={class:"flex h-full flex-1 flex-col gap-4 overflow-x-auto rounded-xl p-4"},ft={class:"mb-2 flex items-center justify-between"},gt={class:"grid gap-2"},vt={class:"grid gap-2"},_t={key:0,class:"flex items-center gap-2 text-sm text-green-500",title:"Live connection active"},yt={key:1,class:"flex items-center gap-2 text-sm text-yellow-500"},bt={key:2,class:"flex items-center gap-2 text-sm text-red-500",title:"Connection lost. Data may be outdated."},wt={class:"grid auto-rows-min gap-4 md:grid-cols-3"},xt={class:"border-sidebar-border/70 dark:border-sidebar-border relative flex flex-col overflow-hidden rounded-xl border p-4"},kt={class:"flex min-h-6 items-center justify-between"},$t={class:"text-3xl font-bold tracking-tight"},Tt={class:"border-sidebar-border/70 dark:border-sidebar-border relative flex flex-col overflow-hidden rounded-xl border p-4"},Ct={class:"flex min-h-6 items-start justify-between"},St={class:"flex flex-wrap items-baseline gap-4"},jt={class:"text-3xl font-bold tracking-tight"},At={class:"flex flex-wrap items-center gap-3"},Ut={class:"flex items-center gap-1.5 text-green-500",title:"Total Incoming (all-time)"},Et={class:"text-sm font-semibold tracking-tight md:text-lg"},Rt={class:"flex items-center gap-1.5 text-red-500",title:"Total Outgoing (all-time)"},Pt={class:"text-sm font-semibold tracking-tight md:text-lg"},Mt={class:"border-sidebar-border/70 dark:border-sidebar-border relative flex flex-col overflow-hidden rounded-xl border p-4"},Nt={class:"flex min-h-6 items-center justify-between"},Dt={class:"flex items-baseline gap-4"},Vt={class:"text-3xl font-bold tracking-tight"},Ft={class:"flex items-center gap-3"},Bt={class:"flex items-center gap-1.5 text-green-500",title:"Total Incoming Transactions"},It={class:"text-sm font-semibold tracking-tight md:text-lg"},Lt={class:"flex items-center gap-1.5 text-red-500",title:"Total Outgoing Transactions"},Ot={class:"text-sm font-semibold tracking-tight md:text-lg"},qt={class:"border-sidebar-border/70 dark:border-sidebar-border relative flex-1 overflow-x-auto rounded-xl border md:min-h-min"},Ht={key:0,class:"text-xs text-blue-500"},Wt={key:0,class:"text-xs text-green-500"},ls={__name:"Index",props:{history:{type:Object,required:!0},stats:{type:Object,required:!0}},setup(i){const e=i,s=Y().props.auth.user,a=T(s.balance),c=T(e.history?.data?[...e.history.data]:[]),u=T(e.stats.incoming),o=T(e.stats.outgoing),m=T(e.stats.incoming_count),f=T(e.stats.outgoing_count),g=T("connecting"),P=O(()=>m.value+f.value),S=O(()=>u.value-o.value),j=O(()=>u.value+o.value),q=[{title:"Transactions",href:w().url}],y=T(null),p=je({receiver_id:"",amount:null}),M=T(!1),xe=()=>{p.post(k().url,{preserveScroll:!0,onSuccess:()=>{p.reset(),M.value=!1,de("Success",{type:"success",description:Y().props.flash.success})},onError:()=>{de("Error",{type:"error",description:Y().props.flash.error})}})},ke=$=>{const r=$.transaction;if(!r)return;c.value.unshift(r),typeof $.balance<"u"&&(a.value=$.balance);const v=Number(r.amount);r.sender.id===s.id?(o.value+=v,f.value+=1):r.receiver.id===s.id&&(u.value+=v,m.value+=1)};return Ae(`user.${s.id}`,".transaction.completed",$=>{ke($)}),Ue(()=>{const $=Ee();if($.connector&&$.connector.pusher){const r=$.connector.pusher;g.value=r.connection.state;const v=$e=>{g.value=$e.current};r.connection.bind("state_change",v),r.connection.bind("unavailable",()=>{g.value="unavailable"}),Re(()=>{r.connection.unbind("state_change",v),r.connection.unbind("unavailable")})}}),($,r)=>(b(),x("div",null,[l(n(Pe),{title:"Transactions"}),l(We,{breadcrumbs:q},{default:h(()=>[d("div",mt,[d("div",ft,[d("div",null,[r[11]||(r[11]=d("h1",{class:"text-foreground text-2xl font-semibold"}," Transactions ",-1)),l(n(Ve),{open:M.value,"onUpdate:open":r[3]||(r[3]=v=>M.value=v)},{default:h(()=>[l(n(Oe),{"as-child":""},{default:h(()=>[l(n(Z),{class:"mt-2",size:"sm"},{default:h(()=>[...r[4]||(r[4]=[_(" New Transaction ",-1)])]),_:1})]),_:1}),l(n(Fe),null,{default:h(()=>[d("form",{class:"space-y-6",onSubmit:Me(xe,["prevent"])},[l(n(Be),{class:"space-y-3"},{default:h(()=>[l(n(Ie),null,{default:h(()=>[...r[5]||(r[5]=[_(" Send a Transaction ",-1)])]),_:1}),l(n(Le),null,{default:h(()=>[...r[6]||(r[6]=[_(" Enter the receiver's user ID and the amount you wish to send. ",-1)])]),_:1})]),_:1}),d("div",gt,[l(n(oe),{for:"userId"},{default:h(()=>[...r[7]||(r[7]=[_(" Receiver User ID ",-1)])]),_:1}),l(n(le),{id:"userId",modelValue:n(p).receiver_id,"onUpdate:modelValue":r[0]||(r[0]=v=>n(p).receiver_id=v),type:"text",name:"userId",placeholder:"Enter user ID",error:n(p).errors.receiver_id,disabled:n(p).processing},null,8,["modelValue","error","disabled"]),l(re,{message:n(p).errors.receiver_id},null,8,["message"])]),d("div",vt,[l(n(oe),{for:"amount"},{default:h(()=>[...r[8]||(r[8]=[_("Amount ($)",-1)])]),_:1}),l(n(le),{id:"amount",ref_key:"amountInput",ref:y,modelValue:n(p).amount,"onUpdate:modelValue":r[1]||(r[1]=v=>n(p).amount=v),type:"number",name:"amount",placeholder:"0.00",step:"0.01",min:"0",error:n(p).errors.amount,disabled:n(p).processing},null,8,["modelValue","error","disabled"]),l(re,{message:n(p).errors.amount},null,8,["message"])]),l(n(qe),{class:"gap-2"},{default:h(()=>[l(n(He),{"as-child":""},{default:h(()=>[l(n(Z),{type:"button",variant:"ghost",onClick:r[2]||(r[2]=v=>n(p).reset())},{default:h(()=>[...r[9]||(r[9]=[_(" Cancel ",-1)])]),_:1})]),_:1}),l(n(Z),{type:"submit",disabled:n(p).processing,"data-test":"confirm-send-transaction-button",loading:n(p).processing},{default:h(()=>[...r[10]||(r[10]=[_(" Send Transaction ",-1)])]),_:1},8,["disabled","loading"])]),_:1})],32)]),_:1})]),_:1},8,["open"])]),g.value==="connected"?(b(),x("div",_t,[...r[12]||(r[12]=[d("span",{class:"relative flex h-3 w-3"},[d("span",{class:"absolute inline-flex h-full w-full animate-ping rounded-full bg-green-400 opacity-75"}),d("span",{class:"relative inline-flex h-3 w-3 rounded-full bg-green-500"})],-1),d("span",null,"Live",-1)])])):g.value==="connecting"?(b(),x("div",yt,[...r[13]||(r[13]=[d("span",{class:"relative flex h-3 w-3"},[d("span",{class:"inline-flex h-3 w-3 animate-pulse rounded-full bg-yellow-500"})],-1),d("span",null,"Connectingâ€¦",-1)])])):(b(),x("div",bt,[...r[14]||(r[14]=[d("span",{class:"relative flex h-3 w-3"},[d("span",{class:"relative inline-flex h-3 w-3 rounded-full bg-red-500"})],-1),d("span",null,"Offline",-1)])]))]),d("div",wt,[d("div",xt,[d("div",kt,[r[15]||(r[15]=d("span",{class:"text-muted-foreground text-sm"}," Current Balance ",-1)),l(n(Xe),{class:"text-muted-foreground size-6 md:hidden lg:block","aria-hidden":"true"})]),d("div",$t,[l(n(U),{value:Number(a.value),format:{style:"currency",currency:"USD"},plugins:[n(A)],"transform-timing":{duration:750},"spin-timing":{duration:900,easing:"linear(0, 0.01, 0.04, 0.1, 0.18, 0.28, 0.4, 0.55, 0.73, 0.93, 1, 1.08, 1.11, 1.12, 1.11, 1.08, 1, 0.98, 0.99, 1)"},"opacity-timing":{duration:350,easing:"ease-out"}},null,8,["value","plugins"])])]),d("div",Tt,[d("div",Ct,[r[16]||(r[16]=d("span",{class:"text-muted-foreground text-sm"}," All-Time Cash Flow ",-1)),d("div",{class:V(["flex items-center justify-center md:hidden lg:flex",["rounded-md px-2 py-1 font-medium",S.value>=0?"bg-green-100 text-green-800 dark:bg-green-900/50 dark:text-green-300":"bg-red-100 text-red-800 dark:bg-red-900/50 dark:text-red-300"]]),title:"Net cash flow (all-time)"},[l(n(U),{value:S.value,format:{style:"currency",currency:"USD",signDisplay:"always"},plugins:[n(A)],class:"text-xs"},null,8,["value","plugins"])],2)]),d("div",St,[d("div",jt,[l(n(U),{value:j.value,format:{style:"currency",currency:"USD"},plugins:[n(A)]},null,8,["value","plugins"])]),d("div",At,[d("div",Ut,[l(n(ue),{class:"h-5 w-5"}),d("span",Et,[l(n(U),{value:u.value,format:{style:"currency",currency:"USD"},plugins:[n(A)]},null,8,["value","plugins"])])]),d("div",Rt,[l(n(ce),{class:"h-5 w-5"}),d("span",Pt,[l(n(U),{value:o.value,format:{style:"currency",currency:"USD"},plugins:[n(A)]},null,8,["value","plugins"])])])])])]),d("div",Mt,[d("div",Nt,[r[17]||(r[17]=d("span",{class:"text-muted-foreground text-sm"}," Total Transactions ",-1)),l(n(ze),{class:"text-muted-foreground size-6 md:hidden lg:block","aria-hidden":"true"})]),d("div",Dt,[d("div",Vt,[l(n(U),{value:P.value,format:{minimumFractionDigits:0},plugins:[n(A)]},null,8,["value","plugins"])]),d("div",Ft,[d("div",Bt,[l(n(ue),{class:"h-5 w-5"}),d("span",It,[l(n(U),{value:m.value,format:{minimumFractionDigits:0},plugins:[n(A)]},null,8,["value","plugins"])])]),d("div",Lt,[l(n(ce),{class:"h-5 w-5"}),d("span",Ot,[l(n(U),{value:f.value,format:{minimumFractionDigits:0},plugins:[n(A)]},null,8,["value","plugins"])])])])])])]),d("div",qt,[l(n(ct),null,{default:h(()=>[l(n(ht),null,{default:h(()=>[l(n(J),null,{default:h(()=>[l(n(B),null,{default:h(()=>[...r[18]||(r[18]=[_(" Nr. ",-1)])]),_:1}),l(n(B),null,{default:h(()=>[...r[19]||(r[19]=[_(" Date ",-1)])]),_:1}),l(n(B),null,{default:h(()=>[...r[20]||(r[20]=[_(" Sender ",-1)])]),_:1}),l(n(B),null,{default:h(()=>[...r[21]||(r[21]=[_(" Receiver ",-1)])]),_:1}),l(n(B),{class:"text-right"},{default:h(()=>[...r[22]||(r[22]=[_(" Amount ",-1)])]),_:1}),l(n(B),{class:"text-right"},{default:h(()=>[...r[23]||(r[23]=[_(" Fee ",-1)])]),_:1})]),_:1})]),_:1}),l(n(pt),null,{default:h(()=>[c.value.length?(b(!0),x(Ne,{key:0},De(c.value,v=>(b(),ne(n(J),{key:v.id,class:"hover:bg-muted/50"},{default:h(()=>[l(n(D),null,{default:h(()=>[_(F(v.id),1)]),_:2},1024),l(n(D),null,{default:h(()=>[_(F(new Date(v.transaction_date).toLocaleString()),1)]),_:2},1024),l(n(D),null,{default:h(()=>[_(F(v.sender?.name)+" ",1),v.sender?.id===n(s).id?(b(),x("span",Ht," (You) ")):ae("",!0)]),_:2},1024),l(n(D),null,{default:h(()=>[_(F(v.receiver?.name)+" ",1),v.receiver?.id===n(s).id?(b(),x("span",Wt," (You) ")):ae("",!0)]),_:2},1024),l(n(D),{class:"text-right"},{default:h(()=>[_(F(Number(v.amount).toFixed(2)),1)]),_:2},1024),l(n(D),{class:"text-right"},{default:h(()=>[_(F(Number(v.commission_fee).toFixed(2)),1)]),_:2},1024)]),_:2},1024))),128)):(b(),ne(n(J),{key:1},{default:h(()=>[l(n(D),{colspan:"5",class:"h-24 text-center"},{default:h(()=>[...r[24]||(r[24]=[_(" No results. ",-1)])]),_:1})]),_:1}))]),_:1})]),_:1})])])]),_:1})]))}};export{ls as default};
